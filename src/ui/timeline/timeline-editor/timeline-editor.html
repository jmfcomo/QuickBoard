<div class="timeline-editor custom-scrollbar">
  <div class="timeline-content" [style.width.px]="totalWidth()">
    <div class="timeline-ruler">
      @for (tick of rulerTicks(); track tick.time) {
        <div class="timeline-tick" [style.left.px]="tick.left">
          <span class="tick-label">{{ tick.label }}</span>
        </div>
      }
    </div>

    <!-- Boards Track -->
    <div class="timeline-tracks">
      <div class="boards-track">
        @for (board of timelineBoards(); track board.id) {
          <div
            class="timeline-board"
            [class.selected]="store.currentBoardId() === board.id"
            [style.left.px]="board.leftPx"
            [style.width.px]="board.widthPx"
            (click)="selectBoard(board.id)"
            (keydown.enter)="selectBoard(board.id)"
            tabIndex="0"
          >
            <div class="board-content">
              @if (board.previewUrl) {
                <img [src]="board.previewUrl" alt="board drawing" />
              }
            </div>
            <div class="board-number">{{ $index + 1 }}</div>

            <!-- Delete Button -->
            @if (store.boards().length > 1) {
              <button class="delete-btn" (click)="$event.stopPropagation(); deleteBoard(board.id)">
                x
              </button>
            }
          </div>
        }

        <!-- Add Button -->
        <button class="add-board-btn" [style.left.px]="addButtonLeftPx()" (click)="addBoard()">
          + Add Board
        </button>
      </div>
    </div>
  </div>
</div>
